{% extends 'core/base.html' %}
{% block content %}
<div style="max-width:400px; margin:40px auto; padding:30px; border:1px solid #ccc; border-radius:10px; font-family: Arial, sans-serif;">
  <h2 style="text-align:center; margin-bottom:25px;">Login via OTP</h2>

  {% if messages %}
    {% for msg in messages %}
      <p style="color: {% if msg.tags == 'error' %}#d93025{% else %}#28a745{% endif %}; text-align:center; font-weight:600;">
        {{ msg }}
      </p>
    {% endfor %}
  {% endif %}

  <form method="post" style="display:flex; flex-direction: column; gap: 15px;">
    {% csrf_token %}
    
    <!-- Mobile Number Field -->
    <input type="text" name="mobile" placeholder="Mobile Number" required
           value="{{ mobile }}"
           {% if mobile %} readonly {% endif %}
           style="padding: 10px; font-size: 16px; border: 1px solid #ccc; border-radius: 5px;">

    <!-- Agar mobile already session me hai to OTP field dikhao -->
   {% if mobile %}
  <input type="text" name="otp" placeholder="Enter OTP">
  <button type="submit">Verify OTP</button>
{% else %}
  <button type="submit">Send OTP</button>
{% endif %}

  </form>
</div>
{% endblock %}




